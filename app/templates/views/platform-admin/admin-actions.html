{% extends "views/platform-admin/_base_template.html" %}
{% from "components/big-number.html" import big_number_simple %}
{% from "components/status-box.html" import status_box %}
{% from "components/form.html" import form_wrapper %}
{% from "components/tick-cross.html" import tick_cross %}
{% from "govuk_frontend_jinja/components/button/macro.html" import govukButton %}

{% block per_page_title %}
  Admin Approvals
{% endblock %}

{% block platform_admin_content %}

  <h1 class="heading-medium">
    Admin Approvals
  </h1>

  <div class="keyline-block"></div>

  {% for action in pending %}
    <div class="govuk-grid-row service-block">
      <div class="govuk-grid-column-three-quarters">
          {% if action.action_type == 'invite_user' %}
            <h2>Invite user {{ action.action_data.email }} to{% if not services[action.service_id].restricted %} <strong>live</strong>{% endif %} service {{ services[action.service_id].name }}</h2>
            With permissions:
            <ul class="tick-cross-list-permissions">
              {% for ui_permission in action.action_data.permissions %}
                {{ tick_cross(
                  True,
                  permission_labels[ui_permission]
                ) }}
              {% endfor %}
            </ul>
          {% else %}
            {{ action }}
          {% endif %}

      </div>
      <div class="govuk-grid-column-one-quarter">
        {{ govukButton({
          "element": "a",
          "text": "Approve",
          "href": "",
        }) }}
        </br>
        {{ govukButton({
          "element": "a",
          "text": "Reject",
          "href": "",
          "classes": "govuk-button--warning"
        }) }}
      </div>
    </div>
    <div class="keyline-block"></div>
  {% endfor %}

{% endblock %}
